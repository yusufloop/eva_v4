RewriteEngine On

# Handle routing - Send all requests to index.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^/index\.php
RewriteRule ^(.*)$ index.php [QSA,L]

# Optional: Remove .php extension from direct file access
RewriteCond %{THE_REQUEST} /([^.]+)\.php[\s?] [NC]
RewriteRule ^ /%1 [NC,L,R=301]

# Security: Block direct access to sensitive folders
RewriteRule ^(config|functions|helpers|includes)/ - [F,L]